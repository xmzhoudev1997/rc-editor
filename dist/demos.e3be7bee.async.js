"use strict";(self.webpackChunk_xmzhou_rc_editor_demo=self.webpackChunk_xmzhou_rc_editor_demo||[]).push([[433],{99280:function(dt,J,F){F.r(J),F.d(J,{default:function(){return ht}});var N=F(50959),Q=F(82187),X=F.n(Q);function R(n){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},R(n)}function V(){"use strict";V=function(){return o};var n,o={},l=Object.prototype,c=l.hasOwnProperty,m=Object.defineProperty||function(r,t,e){r[t]=e.value},L=typeof Symbol=="function"?Symbol:{},g=L.iterator||"@@iterator",P=L.asyncIterator||"@@asyncIterator",O=L.toStringTag||"@@toStringTag";function w(r,t,e){return Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),r[t]}try{w({},"")}catch(r){w=function(e,a,u){return e[a]=u}}function M(r,t,e,a){var u=t&&t.prototype instanceof d?t:d,i=Object.create(u.prototype),f=new W(a||[]);return m(i,"_invoke",{value:U(r,e,f)}),i}function A(r,t,e){try{return{type:"normal",arg:r.call(t,e)}}catch(a){return{type:"throw",arg:a}}}o.wrap=M;var D="suspendedStart",S="suspendedYield",z="executing",b="completed",h={};function d(){}function v(){}function p(){}var x={};w(x,g,function(){return this});var G=Object.getPrototypeOf,j=G&&G(G(H([])));j&&j!==l&&c.call(j,g)&&(x=j);var k=p.prototype=d.prototype=Object.create(x);function K(r){["next","throw","return"].forEach(function(t){w(r,t,function(e){return this._invoke(t,e)})})}function s(r,t){function e(u,i,f,y){var E=A(r[u],r,i);if(E.type!=="throw"){var C=E.arg,I=C.value;return I&&R(I)=="object"&&c.call(I,"__await")?t.resolve(I.__await).then(function(T){e("next",T,f,y)},function(T){e("throw",T,f,y)}):t.resolve(I).then(function(T){C.value=T,f(C)},function(T){return e("throw",T,f,y)})}y(E.arg)}var a;m(this,"_invoke",{value:function(i,f){function y(){return new t(function(E,C){e(i,f,E,C)})}return a=a?a.then(y,y):y()}})}function U(r,t,e){var a=D;return function(u,i){if(a===z)throw new Error("Generator is already running");if(a===b){if(u==="throw")throw i;return{value:n,done:!0}}for(e.method=u,e.arg=i;;){var f=e.delegate;if(f){var y=$(f,e);if(y){if(y===h)continue;return y}}if(e.method==="next")e.sent=e._sent=e.arg;else if(e.method==="throw"){if(a===D)throw a=b,e.arg;e.dispatchException(e.arg)}else e.method==="return"&&e.abrupt("return",e.arg);a=z;var E=A(r,t,e);if(E.type==="normal"){if(a=e.done?b:S,E.arg===h)continue;return{value:E.arg,done:e.done}}E.type==="throw"&&(a=b,e.method="throw",e.arg=E.arg)}}}function $(r,t){var e=t.method,a=r.iterator[e];if(a===n)return t.delegate=null,e==="throw"&&r.iterator.return&&(t.method="return",t.arg=n,$(r,t),t.method==="throw")||e!=="return"&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),h;var u=A(a,r.iterator,t.arg);if(u.type==="throw")return t.method="throw",t.arg=u.arg,t.delegate=null,h;var i=u.arg;return i?i.done?(t[r.resultName]=i.value,t.next=r.nextLoc,t.method!=="return"&&(t.method="next",t.arg=n),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function Y(r){var t={tryLoc:r[0]};1 in r&&(t.catchLoc=r[1]),2 in r&&(t.finallyLoc=r[2],t.afterLoc=r[3]),this.tryEntries.push(t)}function _(r){var t=r.completion||{};t.type="normal",delete t.arg,r.completion=t}function W(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(Y,this),this.reset(!0)}function H(r){if(r||r===""){var t=r[g];if(t)return t.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var e=-1,a=function u(){for(;++e<r.length;)if(c.call(r,e))return u.value=r[e],u.done=!1,u;return u.value=n,u.done=!0,u};return a.next=a}}throw new TypeError(R(r)+" is not iterable")}return v.prototype=p,m(k,"constructor",{value:p,configurable:!0}),m(p,"constructor",{value:v,configurable:!0}),v.displayName=w(p,O,"GeneratorFunction"),o.isGeneratorFunction=function(r){var t=typeof r=="function"&&r.constructor;return!!t&&(t===v||(t.displayName||t.name)==="GeneratorFunction")},o.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,p):(r.__proto__=p,w(r,O,"GeneratorFunction")),r.prototype=Object.create(k),r},o.awrap=function(r){return{__await:r}},K(s.prototype),w(s.prototype,P,function(){return this}),o.AsyncIterator=s,o.async=function(r,t,e,a,u){u===void 0&&(u=Promise);var i=new s(M(r,t,e,a),u);return o.isGeneratorFunction(t)?i:i.next().then(function(f){return f.done?f.value:i.next()})},K(k),w(k,O,"Generator"),w(k,g,function(){return this}),w(k,"toString",function(){return"[object Generator]"}),o.keys=function(r){var t=Object(r),e=[];for(var a in t)e.push(a);return e.reverse(),function u(){for(;e.length;){var i=e.pop();if(i in t)return u.value=i,u.done=!1,u}return u.done=!0,u}},o.values=H,W.prototype={constructor:W,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!t)for(var e in this)e.charAt(0)==="t"&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(C,I){return f.type="throw",f.arg=t,e.next=C,I&&(e.method="next",e.arg=n),!!I}for(var u=this.tryEntries.length-1;u>=0;--u){var i=this.tryEntries[u],f=i.completion;if(i.tryLoc==="root")return a("end");if(i.tryLoc<=this.prev){var y=c.call(i,"catchLoc"),E=c.call(i,"finallyLoc");if(y&&E){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(y){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!E)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a];if(u.tryLoc<=this.prev&&c.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var i=u;break}}i&&(t==="break"||t==="continue")&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var f=i?i.completion:{};return f.type=t,f.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(f)},complete:function(t,e){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),_(a),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var u=a.completion;if(u.type==="throw"){var i=u.arg;_(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:H(t),resultName:e,nextLoc:a},this.method==="next"&&(this.arg=n),h}},o}function q(n,o){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);o&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),l.push.apply(l,c)}return l}function Z(n){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?q(Object(l),!0).forEach(function(c){tt(n,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):q(Object(l)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(l,c))})}return n}function tt(n,o,l){return o=et(o),o in n?Object.defineProperty(n,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[o]=l,n}function et(n){var o=rt(n,"string");return R(o)=="symbol"?o:String(o)}function rt(n,o){if(R(n)!="object"||!n)return n;var l=n[Symbol.toPrimitive];if(l!==void 0){var c=l.call(n,o||"default");if(R(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}function B(n,o,l,c,m,L,g){try{var P=n[L](g),O=P.value}catch(w){l(w);return}P.done?o(O):Promise.resolve(O).then(c,m)}function nt(n){return function(){var o=this,l=arguments;return new Promise(function(c,m){var L=n.apply(o,l);function g(O){B(L,c,m,g,P,"next",O)}function P(O){B(L,c,m,g,P,"throw",O)}g(void 0)})}}var ot=function(o){return new Promise(function(l){var c=document.head.querySelector("#monaco-editor-loader");if(!c){console.log(1),c=document.createElement("script"),c.id="monaco-editor-loader",document.head.appendChild(c),c.type="text/javascript",c.src="".concat(o).concat(o.endsWith("/")?"":"/","loader.js"),c.onload=function(){l(0)};return}l(0)})},at=function(){var o=document.head.querySelector("#monaco-editor-loader");o&&o.remove()},it={"zh-CN":"zh-cn","ko-KR":"ko","en-US":"es","ja-JP":"ja"},ut=function(n,o){var l=n.sourceUrl,c=l===void 0?"https://cdn.jsdelivr.net/npm/monaco-editor@0.47.0/min/vs":l,m=n.locale,L=m===void 0?"zh-CN":m,g=n.options,P=n.value,O=n.language,w=O===void 0?"text":O,M=n.initOptions,A=n.onInit,D=(0,N.useRef)(null),S=(0,N.useRef)(),z=function(){var b=nt(V().mark(function h(){var d,v,p,x,G,j,k;return V().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(v=D.current,v){s.next=3;break}return s.abrupt("return");case 3:return s.next=5,ot(c);case 5:return p=window,x=p.require,((d=x.getConfig())===null||d===void 0||(d=d["vs/nls"])===null||d===void 0||(d=d.availableLanguages)===null||d===void 0?void 0:d["*"])!==L&&(x.reset(),x.locale=L,x.config({paths:{vs:c},"vs/nls":{availableLanguages:{"*":it[L]}}})),s.next=10,new Promise(function(U,$){x(["vs/editor/editor.main"],function(Y){U(Y)},function(){$(null)})});case 10:if(p.monaco=s.sent,G=p.monaco,G){s.next=14;break}return s.abrupt("return");case 14:if(j=S.current,k="",j&&(k=j.getValue(),j.dispose(),S.current=void 0,j=void 0),S.current=G.editor.create(v,Z({language:w||"text",value:k||P||""},M||{})),j=S.current,!j){s.next=23;break}if(!A){s.next=23;break}return s.next=23,A(j);case 23:case"end":return s.stop()}},h)}));return function(){return b.apply(this,arguments)}}();return(0,N.useEffect)(function(){at(),z()},[L,c]),(0,N.useEffect)(function(){return function(){S.current&&S.current.dispose()}},[]),(0,N.useEffect)(function(){var b=S.current;b&&g&&b.updateOptions(g)},[g]),(0,N.useEffect)(function(){var b=S.current;if(b){var h=window.monaco,d=b.getValue();if((P||"")!==d&&h){var v=b.getPosition()||{lineNumber:1,column:1},p=(v==null?void 0:v.lineNumber)||1,x=(v==null?void 0:v.column)||1;b.executeEdits("",[{range:new h.Range(p,x,p,x),text:P||"",forceMoveMarkers:!0}])}}},[P]),(0,N.useImperativeHandle)(o,function(){return S.current},[S.current]),{continerRef:D}},ct=(0,N.forwardRef)(function(n,o){var l=ut(n,o),c=l.continerRef;return N.createElement("div",{className:X()("tant-monaco-editor",n.className),ref:c})}),lt=ct,ft=F(11527),st=function(){return(0,ft.jsx)(lt,{className:"demo-editor"})},ht=st}}]);
